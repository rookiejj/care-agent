import React, { useState } from "react";
import { useNavigate } from "react-router-dom";
import { PageHeader } from "./App";
import { Shield, ChevronDown, ChevronUp, Lock } from "lucide-react";
import "./SettingsPages.css";

const TermsOfUse = () => {
  const navigate = useNavigate();
  const [activeSection, setActiveSection] = useState("service"); // 기본 활성 섹션

  const handleBackClick = () => {
    navigate(-1);
  };

  // 약관 섹션 변경 핸들러
  const handleSectionChange = (section) => {
    setActiveSection(section);
  };

  return (
    <div className="container">
      <div className="fixed-header">
        <PageHeader
          title="이용약관 및 정책"
          backButtonVisible={true}
          onBack={handleBackClick}
        />
      </div>

      <div className="settings-content">
        <div className="category-filter">
          <button
            className={`category-button ${
              activeSection === "service" ? "active" : ""
            }`}
            onClick={() => handleSectionChange("service")}
          >
            서비스 이용약관
          </button>
          <button
            className={`category-button ${
              activeSection === "privacy" ? "active" : ""
            }`}
            onClick={() => handleSectionChange("privacy")}
          >
            개인정보처리방침
          </button>
          <button
            className={`category-button ${
              activeSection === "location" ? "active" : ""
            }`}
            onClick={() => handleSectionChange("location")}
          >
            위치기반 서비스
          </button>
          <button
            className={`category-button ${
              activeSection === "marketing" ? "active" : ""
            }`}
            onClick={() => handleSectionChange("marketing")}
          >
            마케팅 정보 수신
          </button>
          <button
            className={`category-button ${
              activeSection === "medical" ? "active" : ""
            }`}
            onClick={() => handleSectionChange("medical")}
          >
            의료정보 제공 동의
          </button>
        </div>

        <div className="settings-card">
          <h3 className="settings-section-title">
            {activeSection === "privacy" ? (
              <Lock size={18} />
            ) : (
              <Shield size={18} />
            )}
            {activeSection === "service" && "서비스 이용약관"}
            {activeSection === "privacy" && "개인정보처리방침"}
            {activeSection === "location" && "위치기반 서비스 이용약관"}
            {activeSection === "marketing" && "마케팅 정보 수신 동의"}
            {activeSection === "medical" && "의료정보 제공 동의"}
          </h3>

          <div className="terms-content">
            {activeSection === "service" && (
              <>
                <h3>제1조 (목적)</h3>
                <p>
                  이 약관은 의료 중개 플랫폼 서비스(이하 "서비스")를 제공하는
                  회사와 이를 이용하는 회원(이하 "회원") 간의 권리와 의무,
                  책임사항 및 기타 필요한 사항을 규정함을 목적으로 합니다.
                </p>

                <h3>제2조 (정의)</h3>
                <p>이 약관에서 사용하는 용어의 정의는 다음과 같습니다.</p>
                <ol>
                  <li>
                    "서비스"란 회사가 제공하는 온라인 의료 중개 플랫폼 서비스를
                    말합니다.
                  </li>
                  <li>
                    "회원"이란 이 약관에 동의하고 회사와 서비스 이용계약을
                    체결한 자를 말합니다.
                  </li>
                  <li>
                    "콘텐츠"란 회사 또는 회원이 서비스 상에 게시한 모든 정보를
                    말합니다.
                  </li>
                </ol>

                <h3>제3조 (약관의 효력 및 변경)</h3>
                <p>
                  회사는 필요한 경우 약관을 변경할 수 있으며, 변경된 약관은
                  서비스 내 공지사항을 통해 공지합니다. 회원은 변경된 약관에
                  동의하지 않을 경우 서비스 이용을 중단할 수 있습니다.
                </p>

                <h3>제4조 (서비스의 제공 및 변경)</h3>
                <p>회사는 다음과 같은 서비스를 제공합니다.</p>
                <ol>
                  <li>의료기관 정보 제공 및 예약 서비스</li>
                  <li>의료 관련 정보 제공 서비스</li>
                  <li>커뮤니티 서비스</li>
                  <li>기타 회사가 정하는 서비스</li>
                </ol>

                <h3>제5조 (서비스 이용 제한)</h3>
                <p>
                  회사는 다음 각 호에 해당하는 경우 서비스 이용을 제한할 수
                  있습니다.
                </p>
                <ol>
                  <li>회원이 약관을 위반한 경우</li>
                  <li>
                    회원이 타인의 정보를 도용하거나 부정한 방법으로 서비스를
                    이용한 경우
                  </li>
                  <li>
                    회원이 서비스의 운영을 방해하거나 안정성을 해치는 경우
                  </li>
                </ol>

                <h3>제6조 (회원의 의무)</h3>
                <p>회원은 다음 각 호의 행위를 해서는 안 됩니다.</p>
                <ol>
                  <li>타인의 개인정보를 도용하거나 부정하게 사용하는 행위</li>
                  <li>
                    서비스를 통해 얻은 정보를 회사의 사전 승낙 없이 영리
                    목적으로 사용하는 행위
                  </li>
                  <li>회사 및 제3자의 지적재산권을 침해하는 행위</li>
                  <li>
                    회사의 서비스를 방해하거나 서비스의 안정적 운영을 방해하는
                    행위
                  </li>
                </ol>
              </>
            )}

            {activeSection === "privacy" && (
              <>
                <p>
                  회사는 이용자의 개인정보를 중요시하며, 「정보통신망 이용촉진
                  및 정보보호 등에 관한 법률」, 「개인정보 보호법」 등 관련
                  법령을 준수하기 위해 노력하고 있습니다. 회사는
                  개인정보처리방침을 통해 회사가 이용자로부터 수집하는
                  개인정보의 항목, 수집 및 이용목적, 보유 및 이용기간,
                  정보주체의 권리 등 개인정보와 관련된 사항을 안내드립니다.
                </p>

                <h3>1. 수집하는 개인정보 항목</h3>
                <p>
                  회사는 서비스 제공을 위해 다음과 같은 개인정보를 수집합니다.
                </p>

                <h4>필수 수집 항목</h4>
                <ul>
                  <li>
                    <strong>회원 가입 정보</strong> - 이름, 이메일 주소, 휴대폰
                    번호, 비밀번호
                  </li>
                  <li>
                    <strong>진료 예약 정보</strong> - 생년월일, 성별, 예약 날짜
                    및 시간, 진료 과목, 증상 정보
                  </li>
                  <li>
                    <strong>결제 정보</strong> - 신용카드 정보, 결제 내역
                  </li>
                </ul>

                <h4>선택 수집 항목</h4>
                <ul>
                  <li>
                    <strong>추가 건강 정보</strong> - 기존 질환, 복용 중인 약물,
                    알레르기
                  </li>
                  <li>
                    <strong>위치 정보</strong> - GPS 기반 위치 정보 (위치기반
                    서비스 이용 시)
                  </li>
                  <li>
                    <strong>마케팅 활용 정보</strong> - 서비스 이용 기록, 접속
                    로그, 쿠키
                  </li>
                </ul>

                <h4>자동 수집 항목</h4>
                <ul>
                  <li>IP 주소, 쿠키, 방문 일시, 서비스 이용 기록, 기기 정보</li>
                </ul>

                <h3>2. 개인정보의 수집 및 이용 목적</h3>
                <p>회사는 수집한 개인정보를 다음과 같은 목적으로 이용합니다.</p>
                <ul>
                  <li>
                    <strong>서비스 제공 및 관리</strong>
                    <ul>
                      <li>의료기관 정보 제공 및 예약 서비스 이용</li>
                      <li>진료 예약 확인 및 알림 서비스</li>
                      <li>결제 서비스 제공 및 관리</li>
                      <li>서비스 이용 기록 관리</li>
                    </ul>
                  </li>
                  <li>
                    <strong>회원 관리</strong>
                    <ul>
                      <li>회원 가입 및 탈퇴 처리</li>
                      <li>회원 본인확인 및 개인식별</li>
                      <li>회원 정보 관리 및 서비스 부정이용 방지</li>
                      <li>각종 고지사항 전달</li>
                    </ul>
                  </li>
                  <li>
                    <strong>서비스 개선 및 마케팅</strong>
                    <ul>
                      <li>신규 서비스 개발 및 기존 서비스 개선</li>
                      <li>
                        이벤트 및 마케팅 정보 제공 (마케팅 정보 수신 동의 시)
                      </li>
                      <li>서비스 이용 통계 분석</li>
                    </ul>
                  </li>
                </ul>

                <h3>3. 개인정보의 보유 및 이용 기간</h3>
                <p>
                  회사는 원칙적으로 개인정보 수집 및 이용목적이 달성된 후에는
                  해당 정보를 지체 없이 파기합니다. 다만, 관계법령에 따라
                  보존하여야 하는 경우에는 해당 기간 동안 보존합니다.
                </p>

                <h4>회원 정보</h4>
                <ul>
                  <li>
                    회원 탈퇴 시 즉시 파기 (단, 불량 회원의 재가입 방지를 위한
                    최소한의 정보는 6개월간 보관)
                  </li>
                </ul>

                <h4>관련 법령에 따른 보존 기간</h4>
                <ul>
                  <li>
                    <strong>전자상거래 등에서의 소비자 보호에 관한 법률</strong>
                    <ul>
                      <li>계약 또는 청약철회 등에 관한 기록: 5년</li>
                      <li>대금결제 및 재화 등의 공급에 관한 기록: 5년</li>
                      <li>소비자의 불만 또는 분쟁처리에 관한 기록: 3년</li>
                    </ul>
                  </li>
                  <li>
                    <strong>통신비밀보호법</strong>
                    <ul>
                      <li>로그인 기록: 3개월</li>
                    </ul>
                  </li>
                  <li>
                    <strong>의료법</strong>
                    <ul>
                      <li>진료기록부: 10년</li>
                      <li>처방전: 2년</li>
                      <li>진단서 등: 3년</li>
                    </ul>
                  </li>
                </ul>

                <h3>4. 개인정보의 제3자 제공</h3>
                <p>
                  회사는 이용자의 개인정보를 원칙적으로 외부에 제공하지
                  않습니다. 다만, 아래의 경우에는 예외로 합니다.
                </p>
                <ol>
                  <li>이용자가 사전에 동의한 경우</li>
                  <li>
                    법령의 규정에 의거하거나, 수사 목적으로 법령에 정해진 절차와
                    방법에 따라 수사기관의 요구가 있는 경우
                  </li>
                </ol>

                <h3>5. 정보주체의 권리와 행사 방법</h3>
                <p>
                  정보주체는 회사에 대해 언제든지 다음의 권리를 행사할 수
                  있습니다.
                </p>
                <ol>
                  <li>개인정보 열람 요구</li>
                  <li>오류 등이 있을 경우 정정 요구</li>
                  <li>삭제 요구</li>
                  <li>처리정지 요구</li>
                </ol>

                <p>
                  위 권리 행사는 회사에 대해 서면, 전화, 이메일, 팩스 등을
                  통하여 하실 수 있으며 회사는 이에 대해 지체 없이
                  조치하겠습니다.
                </p>
              </>
            )}

            {activeSection === "location" && (
              <>
                <h3>제1조 (목적)</h3>
                <p>
                  본 약관은 회사가 제공하는 위치기반 서비스와 관련하여 회사와
                  회원 간의 권리, 의무 및 책임사항, 이용조건 및 절차 등 기본적인
                  사항을 규정함을 목적으로 합니다.
                </p>

                <h3>제2조 (이용약관의 효력 및 변경)</h3>
                <p>
                  본 약관은 서비스를 신청한 회원 또는 개인위치정보주체가 본
                  약관에 동의함으로써 효력이 발생합니다. 회사는 필요한 경우
                  약관을 변경할 수 있으며, 변경된 약관은 서비스 내 공지사항을
                  통해 공지합니다.
                </p>

                <h3>제3조 (약관 외 준칙)</h3>
                <p>
                  본 약관에 규정되지 않은 사항은 위치정보의 보호 및 이용 등에
                  관한 법률, 정보통신망 이용촉진 및 정보보호 등에 관한 법률 등
                  관련 법령 및 회사의 서비스 이용약관에 따릅니다.
                </p>

                <h3>제4조 (서비스의 내용)</h3>
                <p>회사가 제공하는 위치기반 서비스는 다음과 같습니다.</p>
                <ol>
                  <li>위치기반 의료기관 검색 및 추천 서비스</li>
                  <li>위치기반 의료기관 예약 서비스</li>
                  <li>위치기반 맞춤형 정보 제공 서비스</li>
                  <li>기타 회사가 추가 개발하여 제공하는 위치기반 서비스</li>
                </ol>

                <h3>제5조 (개인위치정보의 이용 또는 제공)</h3>
                <p>
                  회사는 위치기반 서비스 제공을 위하여 회원의 개인위치정보를
                  이용하며, 회원이 동의하는 경우 제3자에게 회원의 개인위치정보를
                  제공할 수 있습니다. 회원은 언제든지 개인위치정보의 이용 또는
                  제공에 대한 동의를 철회할 수 있습니다.
                </p>

                <h3>제6조 (개인위치정보 이용·제공사실 확인자료의 보유)</h3>
                <p>
                  회사는 위치정보의 보호 및 이용 등에 관한 법률 제16조 제2항에
                  따라 개인위치정보 이용·제공사실 확인자료를 6개월 이상
                  보관합니다.
                </p>
              </>
            )}

            {activeSection === "marketing" && (
              <>
                <h3>제1조 (목적)</h3>
                <p>
                  본 약관은 회사가 제공하는 마케팅 정보 수신과 관련하여 회사와
                  회원 간의 권리, 의무 및 책임사항을 규정함을 목적으로 합니다.
                </p>

                <h3>제2조 (마케팅 정보의 종류)</h3>
                <p>회사가 제공하는 마케팅 정보는 다음과 같습니다.</p>
                <ol>
                  <li>서비스 관련 공지 및 업데이트 정보</li>
                  <li>이벤트, 프로모션 정보</li>
                  <li>의료기관 할인 정보</li>
                  <li>건강 관련 정보 및 컨텐츠</li>
                </ol>

                <h3>제3조 (마케팅 정보 수신 동의)</h3>
                <p>
                  회원은 마케팅 정보 수신 동의를 통해 회사로부터 마케팅 정보를
                  수신할 수 있습니다. 회원은 언제든지 마케팅 정보 수신 동의를
                  철회할 수 있으며, 철회 방법은 서비스 내 설정 메뉴를 통해
                  가능합니다.
                </p>

                <h3>제4조 (마케팅 정보 수신 방법)</h3>
                <p>회사는 다음과 같은 방법으로 마케팅 정보를 제공합니다.</p>
                <ol>
                  <li>이메일</li>
                  <li>SMS/MMS</li>
                  <li>앱 푸시 알림</li>
                  <li>기타 회사가 추가하는 수단</li>
                </ol>

                <h3>제5조 (수신 동의 철회)</h3>
                <p>
                  회원은 언제든지 마케팅 정보 수신 동의를 철회할 수 있으며,
                  회사는 수신 동의 철회 요청을 받은 날로부터 3영업일 이내에
                  마케팅 정보 발송을 중단합니다.
                </p>
              </>
            )}

            {activeSection === "medical" && (
              <>
                <h3>제1조 (목적)</h3>
                <p>
                  본 약관은 회사가 제공하는 서비스 중 의료정보 제공과 관련하여
                  회사와 회원 간의 권리, 의무 및 책임사항을 규정함을 목적으로
                  합니다.
                </p>

                <h3>제2조 (의료정보의 정의 및 범위)</h3>
                <p>
                  의료정보란 회원의 건강상태, 진료기록, 처방정보 등 의료 관련
                  정보를 말합니다. 회사는 의료기관으로부터 제공받거나 회원이
                  직접 입력한 의료정보를 서비스 제공을 위해 사용할 수 있습니다.
                </p>

                <h3>제3조 (의료정보 제공 동의)</h3>
                <p>
                  회원은 의료정보 제공 동의를 통해 본인의 의료정보를 회사 및
                  회사가 서비스 제공을 위해 협력하는 제3자에게 제공할 수
                  있습니다. 회원은 언제든지 의료정보 제공 동의를 철회할 수
                  있습니다.
                </p>

                <h3>제4조 (의료정보의 이용 목적)</h3>
                <p>회사는 회원이 제공한 의료정보를 다음 목적으로 이용합니다.</p>
                <ol>
                  <li>예약 및 진료 서비스 제공</li>
                  <li>개인 맞춤형 의료 서비스 추천</li>
                  <li>의료기관과의 정보 공유 (회원 동의 시)</li>
                  <li>
                    서비스 개선 및 신규 서비스 개발 (익명화된 통계 데이터 활용)
                  </li>
                </ol>

                <h3>제5조 (의료정보의 보호)</h3>
                <p>
                  회사는 회원의 의료정보를 보호하기 위해 다음과 같은 조치를
                  취합니다.
                </p>
                <ol>
                  <li>의료정보 암호화 저장</li>
                  <li>접근 권한 제한 및 접근 기록 관리</li>
                  <li>정기적인 보안 점검 및 업데이트</li>
                  <li>의료정보 처리 직원에 대한 보안 교육 실시</li>
                </ol>

                <h3>제6조 (의료정보 제공 동의 철회)</h3>
                <p>
                  회원은 언제든지 의료정보 제공 동의를 철회할 수 있으며, 동의
                  철회 시 회사는 해당 회원의 의료정보를 즉시 파기합니다. 단,
                  법령에 따라 보존이 필요한 경우에는 해당 기간 동안 보관할 수
                  있습니다.
                </p>
              </>
            )}

            <p className="terms-date">최종 개정일: 2025년 04월 01일</p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default TermsOfUse;
